import{i as a,b as n,e as x,F as B,s as I,t as v,c as y,a as W,d as S}from"./index-8b277b6f.js";import{B as b}from"./Button-65740d7f.js";import{H as j,I as _,T as N,F as $,f as F,a as L,c as D,P as H}from"./common-821be2a9.js";const P=v('<label class="flex flex-col"><span class="text-gray-600 select-none"></span><select class="px-4 py-1 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-200">'),R=v("<option>");function w(g){return(()=>{const f=P(),h=f.firstChild,p=h.nextSibling;return a(h,()=>g.label),p.addEventListener("change",u=>g.onChange(u.target.value)),a(p,n(B,{get each(){return g.options},children:u=>(()=>{const i=R();return a(i,()=>u.label),x(()=>i.value=u.value),i})()})),x(u=>{const i=g.id,e=g.name;return i!==u._v$&&I(p,"id",u._v$=i),e!==u._v$2&&I(p,"name",u._v$2=e),u},{_v$:void 0,_v$2:void 0}),x(()=>p.value=g.value),f})()}const V=v('<div class="flex gap-4 items-end">'),G=v('<div class="flex gap-4"><label class="bg-gray-700 hover:bg-gray-900 text-sm text-white font-bold py-1 px-4 rounded"><input type="file" class="hidden" accept=".json">Import'),M=v('<div><main class="container mx-auto flex flex-col gap-6 py-10 px-3"><h1 class="text-2xl mb-10">Static card generator</h1><div class="flex gap-4"><div class="w-1/2"></div><div class="w-1/2">'),U=v('<img class="w-14 h-14 rounded object-cover">'),q=v('<div class="border rounded p-4 my-5 flex flex-col gap-4"><div class="flex justify-between">'),X=()=>{const[g,f]=y("Copy"),[h,p]=y(!1),[u,i]=y(!1),[e,r]=y({card_content:{image_url:"",image_alt_text:"",share_url:"",event_name:"",title_copy:"",body_copy:"",btn_group:[]}},{equals:!1});W(()=>{document.getElementById("pre").innerHTML=JSON.stringify(e(),null,2)});function k(){e().card_content.btn_group.push({id:"",title:"",event_name:"",data:"",type:"WEBSITE",style:"VIEW01.v01"}),r({...e()})}function A(m){e().card_content.btn_group.splice(m(),1),r({...e()})}return(()=>{const m=M(),C=m.firstChild,J=C.firstChild,O=J.nextSibling,E=O.firstChild,T=E.nextSibling;return a(m,n(j,{}),C),a(E,n($,{legend:"Card content",className:"flex flex-col gap-4",get children(){return[(()=>{const t=V();return a(t,n(_,{label:"Image URL",get value(){return e().card_content.image_url},onInput:l=>{const s=e().card_content;s.image_url=l,r({...e()})},className:"flex-grow"}),null),a(t,(()=>{const l=S(()=>!!e().imageUrl);return()=>l()&&(()=>{const s=U();return x(c=>{const o=e().card_content.image_url,d=e().card_content.image_alt_text;return o!==c._v$&&I(s,"src",c._v$=o),d!==c._v$2&&I(s,"alt",c._v$2=d),c},{_v$:void 0,_v$2:void 0}),s})()})(),null),t})(),n(_,{label:"Image alt text",get value(){return e().card_content.image_alt_text},onInput:t=>{const l=e().card_content;l.image_alt_text=t,r({...e()})}}),n(_,{label:"Share url",get value(){return e().card_content.share_url},onInput:t=>{const l=e().card_content;l.share_url=t,r({...e()})}}),n(_,{label:"Event name",get value(){return e().card_content.event_name},onInput:t=>{const l=e().card_content;l.event_name=t,r({...e()})}}),n(_,{label:"Title",get value(){return e().card_content.title_copy},onInput:t=>{const l=e().card_content;l.title_copy=t,r({...e()})}}),n(N,{label:"Body",get value(){return e().card_content.body_copy},onInput:t=>{const l=e().card_content;l.body_copy=t,r({...e()})}})]}}),null),a(E,n($,{legend:"Call to action",get children(){return[n(b,{onClick:k,children:"Add CTA"}),n(B,{get each(){return e().card_content.btn_group},children:(t,l)=>(()=>{const s=q(),c=s.firstChild;return a(s,n(_,{label:"ID (Number)",get value(){return t.id},onInput:o=>{const d=e().card_content.btn_group;d[l()].id=o,r({...e()})}}),c),a(s,n(_,{label:"Title",get value(){return t.title},onInput:o=>{const d=e().card_content.btn_group;d[l()].title=o,r({...e()})}}),c),a(s,n(_,{label:"Event name",get value(){return t.event_name},onInput:o=>{const d=e().card_content.btn_group;d[l()].event_name=o,r({...e()})}}),c),a(s,n(_,{label:"Data ",get value(){return t.data},onInput:o=>{const d=e().card_content.btn_group;d[l()].data=o,r({...e()})}}),c),a(s,n(w,{label:"Type",get value(){return t.type},options:[{label:"WEBSITE",value:"WEBSITE"}],onChange:o=>{console.log(o);const d=e().card_content.btn_group;d[l()].type=o,r({...e()})}}),c),a(s,n(w,{label:"Style",get value(){return t.style},options:[{label:"VIEW01.v01",value:"VIEW01.v01"}]}),c),a(c,n(b,{onClick:()=>{const o=e().card_content.btn_group;o.push(o[l()]),r({...e()})},children:"Duplicate"}),null),a(c,n(b,{onClick:()=>A(l),children:"Remove"}),null),s})()})]}}),null),a(T,n($,{legend:"Actions",className:"flex flex-col gap-4",get children(){return[(()=>{const t=G();return t.firstChild.firstChild.addEventListener("change",c=>{F(c,r)}),a(t,n(b,{onClick:()=>{L("static-card.json",JSON.stringify(e(),null,2))},children:"Export"}),null),a(t,n(b,{onClick:()=>p(!h()),children:"Insert"}),null),a(t,n(b,{onClick:()=>{f("Copied!"),D(JSON.stringify(e())),setTimeout(()=>{f("Copy")},2e3)},children:g}),null),t})(),S(()=>S(()=>!!h())()&&n(N,{value:"",onInput:t=>{try{i(!1),r(JSON.parse(t))}catch{i(!0)}},get className(){return u()?"bg-red-100":""},placeholder:"Paste JSON here"}))]}}),null),a(T,n($,{legend:"JSON",className:"bg-gray-100",get children(){return n(H,{id:"pre"})}}),null),m})()};export{X as default};
